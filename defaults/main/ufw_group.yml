---
# yamllint disable rule:line-length
###############################################################################
# UFW Firewall (Group Rules)
###############################################################################
# Group rules should be defined in group_vars for general rules to apply to all
# systems. These are applied first, before ufw_host rules.
#
# UFW can handle IP and CIDR notation. Use 'any' for no restriction on specific
# direction.
#
# Set IP to force connections through a proxy.
#
# ufw_group:
#     list of dict - Simplified UFW rules.
#   - proto: str - TCP/IP protocol.
#         Values:
#            any: Any protocol (default).
#            tcp: TCP.
#            udp: UDP.
#           ipv6: IPv6.
#            esp: ESP (encapsulation security payload).
#             ah: AH (authentication header).
#            gre: GRE (generic route encapsulation).
#           igmp: IGMP (internet group management protocol).
#         Default: 'tcp'.
#     from_ip: str - Source IPv4/IPv6 address.
#         Special Case:
#            any: Allow all addresses.
#           CIDR: CIDR network.
#         Default: 'any'.
#     from_port: str - Source port.
#           Special Case:
#             ':': May be used for ranges (22:2222).
#         Default: '' (any).
#     to_ip: str - Destination IPv4/IPv6 address.
#         Special Case:
#            any: Allow all addresses.
#           CIDR: CIDR network.
#         Default: 'any'.
#     to_port: str - Destination port.
#         Special Case:
#           ':': May be used for ranges (22:2222).
#         Default: '' (any).
#     direction: str - Direction for rule.
#         Values:
#            in: Incoming connections.
#           out: Outgoing connections.
#         Default: 'in'.
#     log: bool - Log connections matching this rule.
#         Default: False.
#     comment: str - Rule description.
#         Default: ''.
#
# Examples:
#   - proto: 'udp'
#     from_ip: 'any'
#     to_port: 123
#     direction: 'in'
#     log: true
#     comment: 'allow any UDP inbound connections to 123'
#   - proto: 'tcp'
#     to_ip: 'any'
#     to_port: 123
#     direction: 'out'
#     log: true
#     comment: 'allow any TCP outbound connections to 123'
#   - proto: 'tcp'
#     from_ip: '10.1.1.1'
#     to_port: 5555
#     direction: 'in'
#     log: true
#     comment: 'allow proxied inbound connections to port 5555'
#   - proto: 'tcp'
#     from_ip: '127.0.0.1'
#     to_ip: '127.0.0.1'
#     to_port: 123
#     direction: 'in'
#     log: false
#     comment: 'allow localhost connections to port 123'
#
# Default: allow SSH.
#   - proto: 'tcp'
#     from_ip: 'any'
#     to_port: 22
#     direction: 'in'
#     comment: 'SSH'
#
# Reference:
# * https://docs.ansible.com/ansible/latest/collections/community/general/ufw_module.html
ufw_group:
  - proto: 'tcp'
    from_ip: 'any'
    to_port: 22
    direction: 'in'
    comment: 'SSH'
